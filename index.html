<!DOCTYPE html>
<html>
<head>
    <title>WikiHub</title>
    <style>
        /* body { font-family: Arial; max-width: 800px; margin: 50px auto; padding: 20px; } */
        /* input, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; } */
         body {
                          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                          background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
                          /* background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); */
                          min-height: 100vh;
                          margin: 0;
                          padding: 2rem;
                          max-width: 900px;
                          margin: 0 auto;
                      }

        input, textarea {
                          width: 95%;
                          padding: 16px 20px;
                          margin: 12px 0;
                          border: 2px solid rgba(66, 133, 244, 0.2);
                          border-radius: 25px;
                          font-size: 16px;
                          background: rgba(255, 255, 255, 0.9);
                          backdrop-filter: blur(10px);
                          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
                          position: relative;
                       }

        input:focus, textarea:focus {
                          outline: none;
                          border-color: #4285f4;
                          background: rgba(255, 255, 255, 1);
                          box-shadow: 
                              0 0 0 4px rgba(66, 133, 244, 0.15),
                              0 8px 25px rgba(66, 133, 244, 0.2);
                          transform: translateY(-2px);
                      }

        input::placeholder, textarea::placeholder {
            color: #94a3b8;
            font-weight: 500;
        }

        input:hover, textarea:hover {
            border-color: rgba(66, 133, 244, 0.4);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
            transform: translateY(-1px);
        }

        button {
                  background: #4285f4;
                  color: white;
                  padding: 12px 24px;
                  border: none;
                  border-radius: 12px;
                  cursor: pointer;
                  font-weight: 600;
                  position: relative;
                  overflow: hidden;
                  
                  /* Smooth transition for ALL properties */
                  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                  
                  /* Initial subtle shadow */
                  box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
              }

        button:hover {
            background: linear-gradient(135deg, #4285f4, #3367d6);
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 12px 35px rgba(66, 133, 244, 0.5),
                        0 0 20px rgba(66, 133, 244, 0.3);
        }

        button:active {
            transform: scale(0.98) translateY(-1px);
            transition: all 0.1s ease;
        }

        /* button { background: #4285f4; color: white; padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; }
             
        button:hover { background: #3367d6; } */
        /* #answer { background: #f8f9fa; padding: 20px; border-radius: 5px; min-height: 100px; margin-top: 20px; } */
        #answer {
                    background: linear-gradient(145deg, rgba(248, 250, 252, 0.8), rgba(241, 245, 249, 0.6));
                    backdrop-filter: blur(20px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    border-radius: 20px;
                    padding: 30px;
                    min-height: 120px;
                    margin-top: 25px;
                    box-shadow: 
                        0 20px 40px rgba(0, 0, 0, 0.1),
                        0 0 0 1px rgba(255, 255, 255, 0.2),
                        inset 0 1px 0 rgba(255, 255, 255, 0.8);
                    position: relative;
                    overflow: hidden;
                }

        #answer::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.05), rgba(118, 75, 162, 0.05));
            border-radius: 20px;
            z-index: -1;
        }

        #answer.loading {
            background: linear-gradient(90deg, #f0f2f5 25%, #e2e8f0 50%, #f0f2f5 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        .button-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }


        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .loading { color: #666; }
    </style>
</head>
<body>
    <h1 style="
    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 3.5rem;
    font-weight: 1500;
    text-align: center;
    margin: 0;
    padding: 20px 0;
    letter-spacing: -0.02em;
    text-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);">SearchBot QnA</h1>

    <h3> Enter url</h3>
    <input type="url" id="url" placeholder="" value="">
    <br>
    <h3>Enter question</h3>
    <textarea id="question" placeholder="" rows="3"></textarea>
    <br>
    
    <!-- <button onclick="ask()">Search</button> -->
     <div class="button-container">
    <button onclick="ask()" class="search-btn"> Search </button>
    </div>

    
    <div id="answer">Your answer appears here...</div>

    <script>
        async function ask() {
            const url = document.getElementById('url').value;
            const question = document.getElementById('question').value;
            const answerDiv = document.getElementById('answer');
            
            answerDiv.innerHTML = '<div class="loading">ðŸ¤– Thinking...</div>';
            
            try {
                const response = await fetch('/ask', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url, question })
                });
                const data = await response.json();
                answerDiv.innerHTML = data.answer || data.error;
            } catch (error) {
                answerDiv.innerHTML = 'Error: ' + error.message;
            }
        }
        
        // Enter key support
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                ask();
            }
        });
    </script>
</body>
</html>
